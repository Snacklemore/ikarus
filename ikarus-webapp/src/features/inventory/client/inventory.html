<template name="inventory">
  <div class="inventory">
    {{#if targetInventory}}
      <h3>Inventory ({{targetInventoryItemCount}} / {{targetInventoryMaxItemCount}})</h3>
      <h2>Vehicles: {{vehicleSlots}}/{{getUsedVehicleSlots}}</h2>
      <h2>Armoured vehicles: {{armorSlots}}/{{getUsedArmorSlots}}</h2>
      <h2>Helicopters: {{heloSlots}}/{{getUsedHeloSlots}}</h2>
    {{else}}
      <h3>Armory</h3>
    {{/if}}

    <div class="row add-top">
      {{#each layout}}
        <div class="col-md-3">
          <h3>{{title}}</h3>

          {{#each items}}
            <div class="inventory-entry" data-armaclass={{item.armaClass}}>
              <div class="item {{#if targetCount}}in-inventory{{/if}}">
                {{#if isManageable}}
                  {{> inventory_manage}}
                {{/if}}

                {{#if isManageable}}
                  <div class="title">{{item.name}} [{{targetCount}}/{{totalCount}}]</div>
                {{else}}
                  <div class="title">{{item.name}} [{{totalCount}}]</div>
                {{/if}}
              </div>

              {{#if isWeapon}}
                  {{#each getMagazines}}
                    <div class="extras {{#if targetCount}}in-inventory{{/if}}">
                      {{#if isManageable}}
                        {{> inventory_manage}}
                      {{/if}}

                      {{#if isManageable}}
                        <div class="title">{{item.name}} [{{targetCount}}/{{totalCount}}]</div>
                      {{else}}
                        <div class="title">{{item.name}} [{{totalCount}}]</div>
                      {{/if}}
                    </div>
                  {{else}}
                    <div style="extras">No ammo.</div>
                  {{/each}}
              {{/if}}
            </div>
          {{/each}}
        </div>
      {{/each}}
    </div>
  </div>
</template>

<template name="inventory_manage">
  <div class="manage">
    <button class="remove-from-inventory" data-armaclass={{item.armaClass}}>-</button>
    <button class="add-to-inventory" data-armaclass={{item.armaClass}}>+</button>
  </div>
</template>
